<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="UTF-8" />
    <title>Gold Khat Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-gradient-to-br from-yellow-50 to-amber-100 min-h-screen flex items-center justify-center p-4"
  >
  
    <div
      class="bg-white rounded-2xl shadow-xl w-full max-w-md p-6 transform transition-all duration-500 hover:scale-[1.02]"
    >
      <div class="flex justify-between items-center mb-4">
        
        <h2
          id="title"
          class="text-2xl font-bold text-yellow-700 flex items-center gap-2"
        >
          ЁЯТ░ рж╕рзЛржирж╛рж░ ржЦрж╛ржд ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░
        </h2>
        <button
          id="langToggle"
          class="text-sm bg-amber-200 hover:bg-amber-300 text-yellow-800 font-semibold px-3 py-1 rounded"
        >
          English
        </button>
      </div>

      <!-- Inputs -->
      <label id="karatLabel" class="block text-gray-700 font-medium mb-1"
        >рж╕рзЛржирж╛рж░ ржХрзНржпрж╛рж░рзЗржЯ (ржпрзЗржоржи рзирзи)</label
      >
      <input
        type="number"
        id="karat"
        value="22"
        autofocus
        class="w-full border border-gray-300 rounded-lg p-2 mb-4 focus:ring-2 focus:ring-yellow-400 outline-none transition-all"
      />

      <label id="weightLabel" class="block text-gray-700 font-medium mb-1"
        >ржорзЛржЯ ржУржЬржи (ржЧрзНрж░рж╛ржорзЗ)</label
      >
      <input
        type="number"
        id="weightGram"
        value="11.664"
        class="w-full border border-gray-300 rounded-lg p-2 mb-4 focus:ring-2 focus:ring-yellow-400 outline-none transition-all"
      />

      <button
        id="calcButton"
        class="w-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold py-2 rounded-lg shadow-md hover:shadow-lg hover:from-yellow-600 hover:to-amber-700 transition-all duration-300"
      >
        рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи
      </button>

      <div id="result" class="mt-6 hidden animate-fadeIn"></div>
      <div class="mt-6 p-4 bg-yellow-50 rounded-xl shadow-inner">
  <h3 class="text-lg font-bold text-yellow-800 mb-2">ЁЯУЬ рж╕рзНржмрж░рзНржгрзЗрж░ ржорж╛ржк ржУ ржмрж┐рж╢рзБржжрзНржзрждрж╛ | Gold Measurement & Purity</h3>

  <p class="text-gray-700 mb-2">
    <strong>ржжрзЗрж╢рзАржпрж╝ ржорж╛ржк:</strong><br>
    рзз ржнрж░рж┐ = рззрзм ржЖржирж╛ = рзпрзм рж░рждрж┐<br>
    рзз ржЖржирж╛ = рзм рж░рждрж┐<br>
    рзз ржнрж░рж┐ = рззрзз.рзмрзмрзйрзо ржЧрзНрж░рж╛ржо<br>
    рзз ржЖржЙржирзНрж╕ = рзирзо.рзйрзкрзпрзл ржЧрзНрж░рж╛ржо = рзи.рзкрзйрзжрзл ржнрж░рж┐<br>
    рзз ржнрж░рж┐ = рзж.рзкрззрззрзкрзй ржЖржЙржирзНрж╕
  </p>

  <p class="text-gray-700 mb-2">
    <strong>Gold Measurement (Local & International):</strong><br>
    1 Vori = 16 Ana = 96 Roti<br>
    1 Ana = 6 Roti<br>
    1 Vori = 11.6638 g<br>
    1 Ounce = 28.3495 g = 2.4305 Vori<br>
    1 Vori = 0.41143 Ounce
  </p>

  <p class="text-gray-700 mb-2">
    <strong>рж╕рзНржмрж░рзНржгрзЗрж░ ржмрж┐рж╢рзБржжрзНржзрждрж╛:</strong><br>
    рзирзк ржХрзНржпрж╛рж░рзЗржЯ = рзпрзп.рзпрзп% ржЦрж╛ржБржЯрж┐<br>
    рзирзи ржХрзНржпрж╛рж░рзЗржЯ = рзпрзз.рзм% ржЦрж╛ржБржЯрж┐<br>
    рзирзз ржХрзНржпрж╛рж░рзЗржЯ = рзорзн.рзл% ржЦрж╛ржБржЯрж┐<br>
    рззрзо ржХрзНржпрж╛рж░рзЗржЯ = рзнрзл% ржЦрж╛ржБржЯрж┐<br>
    рззрзк ржХрзНржпрж╛рж░рзЗржЯ = рзлрзо.рзл% ржЦрж╛ржБржЯрж┐<br>
    рззрзж ржХрзНржпрж╛рж░рзЗржЯ = рзкрзз.рзн% ржЦрж╛ржБржЯрж┐
  </p>

  <p class="text-gray-700 mb-2">
    <strong>Gold Purity:</strong><br>
    24 Carat = 99.99% Pure<br>
    22 Carat = 91.6% Pure<br>
    21 Carat = 87.5% Pure<br>
    18 Carat = 75% Pure<br>
    14 Carat = 58.5% Pure<br>
    10 Carat = 41.7% Pure
  </p>

  <p class="text-gray-700 text-sm">
    рж╕рзНржмрж░рзНржгрж╛рж▓ржВржХрж╛рж░ ржХрзНрж░ржпрж╝рзЗрж░ рж╕ржоржпрж╝ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЧрж╣ржирж╛рж░ ржЙржкрж░ ржХрзНржпрж╛рж░рзЗржЯ ржЦрзЛржжрж╛ржЗ ржХрж░рж╛ ржЖржЫрзЗред ржпрзЗржоржи: рзпрзпрзпрзп = рзирзк ржХрзНржпрж╛рж░рзЗржЯ, рзпрззрзм = рзирзи ржХрзНржпрж╛рж░рзЗржЯ, рзорзнрзл = рзирзз ржХрзНржпрж╛рж░рзЗржЯ, рзнрзлрзж = рззрзо ржХрзНржпрж╛рж░рзЗржЯред<br>
    When buying jewelry, always check the engraved carat mark on the ornament or chain hook. For example: 9999 = 24 Carat, 916 = 22 Carat, 875 = 21 Carat, 750 = 18 Carat.
  </p>
</div>
    </div>

    <script>
      // Tailwind animation setup
      tailwind.config = {
        theme: {
          extend: {
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
            animation: { fadeIn: "fadeIn 0.5s ease-out" },
          },
        },
      };

      const karatInput = document.getElementById("karat");
      const weightInput = document.getElementById("weightGram");
      const calcButton = document.getElementById("calcButton");
      const langToggle = document.getElementById("langToggle");
      const resultBox = document.getElementById("result");
      const title = document.getElementById("title");
      const karatLabel = document.getElementById("karatLabel");
      const weightLabel = document.getElementById("weightLabel");

      // тЬЕ Text translations
      const texts = {
        bn: {
          title: "ЁЯТ░ рж╕рзЛржирж╛рж░ ржЦрж╛ржд ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░",
          karatLabel: "рж╕рзЛржирж╛рж░ ржХрзНржпрж╛рж░рзЗржЯ (ржпрзЗржоржи рзирзи)",
          weightLabel: "ржорзЛржЯ ржУржЬржи (ржЧрзНрж░рж╛ржорзЗ)",
          button: "рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи",
          resultTitle: "ржлрж▓рж╛ржлрж▓:",
          availText: "ржорзЛржЯ рж╕рзЛржирж╛рж░ ржУржЬржи:",
          purity: "ржмрж┐рж╢рзБржжрзНржзрждрж╛",
          khatResult: "ржЦрж╛рждрзЗрж░ ржлрж▓рж╛ржлрж▓:",
          vori: "ржнрж░рж┐",
          ana: "ржЖржирж╛",
          roti: "рж░рждрж┐",
          point: "ржкржпрж╝рзЗржирзНржЯ",
          remaining: "ржмрж╛ржХрж┐ рж╕рзЛржирж╛:",
        },
        en: {
          title: "ЁЯТ░ Gold Khat Calculator",
          karatLabel: "Gold Karat (e.g. 22)",
          weightLabel: "Total Weight (in Gram)",
          button: "Calculate",
          resultTitle: "Results:",
          availText: "Available Gold Weight:",
          purity: "Purity",
          khatResult: "Khat Result:",
          vori: "Vori",
          ana: "Ana",
          roti: "Roti",
          point: "Point",
          remaining: "Remaining Gold:",
        },
      };

      let currentLang = "bn"; // default Bangla

      // Function: Switch language
      langToggle.addEventListener("click", () => {
        currentLang = currentLang === "bn" ? "en" : "bn";
        applyLanguage();
      });

      function applyLanguage() {
        const t = texts[currentLang];
        title.innerText = t.title;
        karatLabel.innerText = t.karatLabel;
        weightLabel.innerText = t.weightLabel;
        calcButton.innerText = t.button;
        langToggle.innerText = currentLang === "bn" ? "English" : "ржмрж╛ржВрж▓рж╛";
      }

      // Focus on Karat input
      window.onload = () => karatInput.focus();

      // Press Enter to Calculate
      [karatInput, weightInput].forEach((input) =>
        input.addEventListener("keypress", (event) => {
          if (event.key === "Enter") {
            event.preventDefault();
            calculateKhat();
          }
        })
      );

      calcButton.addEventListener("click", calculateKhat);

      function calculateKhat() {
        const karat = parseFloat(karatInput.value);
        const totalGram = parseFloat(weightInput.value);
        const t = texts[currentLang];

        const GRAM_PER_VORI = 11.664;
        const ANA_PER_VORI = 16;
        const ROTI_PER_ANA = 6;
        const POINT_PER_ROTI = 10;

        // Convert available gold weight
        let totalVoriAvail = totalGram / GRAM_PER_VORI;
        let availVori = Math.trunc(totalVoriAvail);
        let availAnaTotal = (totalVoriAvail - availVori) * ANA_PER_VORI;
        let availAna = Math.trunc(availAnaTotal);
        let availRotiTotal = (availAnaTotal - availAna) * ROTI_PER_ANA;
        let availRoti = Math.trunc(availRotiTotal);
        let availPoint = Math.round(
          (availRotiTotal - availRoti) * POINT_PER_ROTI
        );

        // Adjust carries
        if (availPoint === 10) {
          availRoti += 1;
          availPoint = 0;
        }
        if (availRoti >= 6) {
          availAna += Math.floor(availRoti / 6);
          availRoti = availRoti % 6;
        }
        if (availAna >= 16) {
          availVori += Math.floor(availAna / 16);
          availAna = availAna % 16;
        }

        const purityPercent = (100 / 24) * karat;
        const impurity = 100 - purityPercent;
        const netGram = (totalGram * impurity) / 100;

        // Convert Khat
        let totalVoriKhat = netGram / GRAM_PER_VORI;
        let vori = Math.trunc(totalVoriKhat);
        let anaTotal = (totalVoriKhat - vori) * ANA_PER_VORI;
        let ana = Math.trunc(anaTotal);
        let rotiTotal = (anaTotal - ana) * ROTI_PER_ANA;
        let roti = Math.trunc(rotiTotal);
        let point = Math.round((rotiTotal - roti) * POINT_PER_ROTI);

        if (point === 10) {
          roti += 1;
          point = 0;
        }
        if (roti >= 6) {
          ana += Math.floor(roti / 6);
          roti = roti % 6;
        }
        if (ana >= 16) {
          vori += Math.floor(ana / 16);
          ana = ana % 16;
        }

        // Remaining Gold
        const remainingGram = totalGram - netGram;
        const remainVori = (remainingGram / GRAM_PER_VORI).toFixed(4);

        resultBox.innerHTML = `
          <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 shadow-sm">
            <p class="font-semibold text-yellow-700 mb-3">${t.resultTitle}</p>
            
            <p class="text-gray-600 text-sm mb-1 text-center">${t.availText}</p>
            <div class="flex justify-around bg-amber-100 rounded-lg py-3 mb-3 shadow-inner">
              <div><p class="font-bold text-amber-700">${t.vori}</p><p class="text-2xl font-bold text-yellow-700">${availVori}</p></div>
              <div><p class="font-bold text-amber-700">${t.ana}</p><p class="text-2xl font-bold text-yellow-700">${availAna}</p></div>
              <div><p class="font-bold text-amber-700">${t.roti}</p><p class="text-2xl font-bold text-yellow-700">${availRoti}</p></div>
              <div><p class="font-bold text-amber-700">${t.point}</p><p class="text-2xl font-bold text-yellow-700">${availPoint}</p></div>
            </div>

            <p class="text-center text-gray-700 text-sm mb-3">${t.purity}: ${purityPercent.toFixed(2)}% | Net Gold: ${netGram.toFixed(4)}g</p>

            <hr class="my-3 border-yellow-200" />
            <p class="font-semibold text-center text-amber-700">${t.khatResult}</p>
            <div class="flex justify-around bg-amber-100 rounded-lg py-3 mt-2 shadow-inner">
              <div><p class="text-lg font-bold text-amber-700">${t.vori}</p><p class="text-3xl font-extrabold text-yellow-700">${vori}</p></div>
              <div><p class="text-lg font-bold text-amber-700">${t.ana}</p><p class="text-3xl font-extrabold text-yellow-700">${ana}</p></div>
              <div><p class="text-lg font-bold text-amber-700">${t.roti}</p><p class="text-3xl font-extrabold text-yellow-700">${roti}</p></div>
              <div><p class="text-lg font-bold text-amber-700">${t.point}</p><p class="text-3xl font-extrabold text-yellow-700">${point}</p></div>
            </div>

            <hr class="my-3 border-yellow-200" />
            <p class="text-center text-amber-700 font-semibold">${t.remaining} ${remainVori} ржнрж░рж┐ рж╕ржорж╛ржи</p>
          </div>
        `;

        resultBox.classList.remove("hidden");
      }
    </script>
  </body>
</html>
